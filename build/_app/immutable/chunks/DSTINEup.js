const n="http://localhost:8788",c={async request(r,e={}){const o=r.startsWith("http")?r:`${n}${r}`,a={headers:{"Content-Type":"application/json",...e.headers},...e};e.body instanceof FormData?delete a.headers["Content-Type"]:e.body&&typeof e.body=="object"&&(a.body=JSON.stringify(e.body));try{const t=await fetch(o,a);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=t.headers.get("content-type");return s&&s.includes("application/json")?await t.json():await t.text()}catch(t){throw console.error("API request failed:",t),t}}};export{c as a};
