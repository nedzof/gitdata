import{S as bt,i as It,s as Et,n as Qe,d as r,w as We,r as Ct,z as Ge,m as Ke,a as he,b as fe,c as e,o as ze,p as n,B as et,e as l,f as i,q as A,h as u,g as z,j as s,k as h,t as J,v as Dt,D as $e}from"../chunks/BOFvEgh9.js";import{e as Fe}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as Vt}from"../chunks/DSTINEup.js";function st(v,t,o){const a=v.slice();return a[14]=t[o],a}function nt(v,t,o){const a=v.slice();return a[17]=t[o],a}function at(v,t,o){const a=v.slice();return a[20]=t[o],a}function ot(v,t,o){const a=v.slice();return a[23]=t[o],a}function rt(v,t,o){const a=v.slice();return a[26]=t[o],a}function vt(v){let t,o=v[26].label+"",a;return{c(){t=s("option"),a=J(o),this.h()},l(b){t=l(b,"OPTION",{});var g=i(t);a=z(g,o),g.forEach(r),this.h()},h(){t.__value=v[26].value,Ke(t,t.__value)},m(b,g){fe(b,t,g),e(t,a)},p:Qe,d(b){b&&r(t)}}}function it(v){let t,o=v[23].label+"",a;return{c(){t=s("option"),a=J(o),this.h()},l(b){t=l(b,"OPTION",{});var g=i(t);a=z(g,o),g.forEach(r),this.h()},h(){t.__value=v[23].value,Ke(t,t.__value)},m(b,g){fe(b,t,g),e(t,a)},p:Qe,d(b){b&&r(t)}}}function Tt(v){let t,o,a,b,g,c,p="Export Format:",y,L,I,f="JSON",M,O="CSV",D,m,k="üì• Export Report",H,V,C=v[2]==="usage"&&ct(v),S=v[2]==="access"&&ut(v),Y=v[2]==="revenue"&&gt(v);return{c(){C&&C.c(),t=h(),S&&S.c(),o=h(),Y&&Y.c(),a=h(),b=s("div"),g=s("div"),c=s("label"),c.textContent=p,y=h(),L=s("select"),I=s("option"),I.textContent=f,M=s("option"),M.textContent=O,D=h(),m=s("button"),m.textContent=k,this.h()},l(_){C&&C.l(_),t=u(_),S&&S.l(_),o=u(_),Y&&Y.l(_),a=u(_),b=l(_,"DIV",{class:!0});var q=i(b);g=l(q,"DIV",{class:!0});var ae=i(g);c=l(ae,"LABEL",{for:!0,"data-svelte-h":!0}),A(c)!=="svelte-b4phq6"&&(c.textContent=p),y=u(ae),L=l(ae,"SELECT",{id:!0,class:!0});var re=i(L);I=l(re,"OPTION",{"data-svelte-h":!0}),A(I)!=="svelte-1eaf7re"&&(I.textContent=f),M=l(re,"OPTION",{"data-svelte-h":!0}),A(M)!=="svelte-12id4vm"&&(M.textContent=O),re.forEach(r),D=u(ae),m=l(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),A(m)!=="svelte-ra33p6"&&(m.textContent=k),ae.forEach(r),q.forEach(r),this.h()},h(){n(c,"for","exportFormat"),I.__value="json",Ke(I,I.__value),M.__value="csv",Ke(M,M.__value),n(L,"id","exportFormat"),n(L,"class","control-input svelte-1npvggn"),v[5]===void 0&&et(()=>v[13].call(L)),n(m,"class","btn btn-secondary svelte-1npvggn"),n(g,"class","export-controls svelte-1npvggn"),n(b,"class","export-panel svelte-1npvggn")},m(_,q){C&&C.m(_,q),fe(_,t,q),S&&S.m(_,q),fe(_,o,q),Y&&Y.m(_,q),fe(_,a,q),fe(_,b,q),e(b,g),e(g,c),e(g,y),e(g,L),e(L,I),e(L,M),Ge(L,v[5],!0),e(g,D),e(g,m),H||(V=[ze(L,"change",v[13]),ze(m,"click",v[9])],H=!0)},p(_,q){_[2]==="usage"?C?C.p(_,q):(C=ct(_),C.c(),C.m(t.parentNode,t)):C&&(C.d(1),C=null),_[2]==="access"?S?S.p(_,q):(S=ut(_),S.c(),S.m(o.parentNode,o)):S&&(S.d(1),S=null),_[2]==="revenue"?Y?Y.p(_,q):(Y=gt(_),Y.c(),Y.m(a.parentNode,a)):Y&&(Y.d(1),Y=null),q&32&&Ge(L,_[5])},d(_){_&&(r(t),r(o),r(a),r(b)),C&&C.d(_),S&&S.d(_),Y&&Y.d(_),H=!1,Ct(V)}}}function Rt(v){let t,o="<p>‚è≥ Generating analytics report...</p>";return{c(){t=s("div"),t.innerHTML=o,this.h()},l(a){t=l(a,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-13nob1"&&(t.innerHTML=o),this.h()},h(){n(t,"class","loading svelte-1npvggn")},m(a,b){fe(a,t,b)},p:Qe,d(a){a&&r(t)}}}function ct(v){let t,o,a,b="üìä",g,c,p,y="Total Requests",L,I,f=new Intl.NumberFormat().format(v[0].totalRequests)+"",M,O,D,m,k="üë•",H,V,C,S="Unique Clients",Y,_,q=new Intl.NumberFormat().format(v[0].uniqueClients)+"",ae,re,F,ne,Me="üíæ",Ve,P,$,ke="Data Served",Te,ee,de=mt(v[0].dataServed)+"",pe,X,te,B,me="‚ö°",be,U,d,w="Avg Response",R,K,le=v[0].avgResponseTime+"",ge,De,Re,oe,se,ve,Ie="üèÜ Top Content",_e,Ce,ie,ce,He='<tr><th class="svelte-1npvggn">Content ID</th> <th class="svelte-1npvggn">Requests</th> <th class="svelte-1npvggn">Revenue</th></tr>',je,Ee,ue=Fe(v[0].topContent),G=[];for(let x=0;x<ue.length;x+=1)G[x]=dt(at(v,ue,x));return{c(){t=s("div"),o=s("div"),a=s("div"),a.textContent=b,g=h(),c=s("div"),p=s("h3"),p.textContent=y,L=h(),I=s("div"),M=J(f),O=h(),D=s("div"),m=s("div"),m.textContent=k,H=h(),V=s("div"),C=s("h3"),C.textContent=S,Y=h(),_=s("div"),ae=J(q),re=h(),F=s("div"),ne=s("div"),ne.textContent=Me,Ve=h(),P=s("div"),$=s("h3"),$.textContent=ke,Te=h(),ee=s("div"),pe=J(de),X=h(),te=s("div"),B=s("div"),B.textContent=me,be=h(),U=s("div"),d=s("h3"),d.textContent=w,R=h(),K=s("div"),ge=J(le),De=J("ms"),Re=h(),oe=s("div"),se=s("div"),ve=s("h3"),ve.textContent=Ie,_e=h(),Ce=s("div"),ie=s("table"),ce=s("thead"),ce.innerHTML=He,je=h(),Ee=s("tbody");for(let x=0;x<G.length;x+=1)G[x].c();this.h()},l(x){t=l(x,"DIV",{class:!0});var E=i(t);o=l(E,"DIV",{class:!0});var T=i(o);a=l(T,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-1xjc4iu"&&(a.textContent=b),g=u(T),c=l(T,"DIV",{class:!0});var N=i(c);p=l(N,"H3",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1oc0qzk"&&(p.textContent=y),L=u(N),I=l(N,"DIV",{class:!0});var Z=i(I);M=z(Z,f),Z.forEach(r),N.forEach(r),T.forEach(r),O=u(E),D=l(E,"DIV",{class:!0});var j=i(D);m=l(j,"DIV",{class:!0,"data-svelte-h":!0}),A(m)!=="svelte-1fz3q5d"&&(m.textContent=k),H=u(j),V=l(j,"DIV",{class:!0});var Q=i(V);C=l(Q,"H3",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-13wd07j"&&(C.textContent=S),Y=u(Q),_=l(Q,"DIV",{class:!0});var W=i(_);ae=z(W,q),W.forEach(r),Q.forEach(r),j.forEach(r),re=u(E),F=l(E,"DIV",{class:!0});var xe=i(F);ne=l(xe,"DIV",{class:!0,"data-svelte-h":!0}),A(ne)!=="svelte-1quljne"&&(ne.textContent=Me),Ve=u(xe),P=l(xe,"DIV",{class:!0});var Se=i(P);$=l(Se,"H3",{class:!0,"data-svelte-h":!0}),A($)!=="svelte-1oid2oh"&&($.textContent=ke),Te=u(Se),ee=l(Se,"DIV",{class:!0});var Be=i(ee);pe=z(Be,de),Be.forEach(r),Se.forEach(r),xe.forEach(r),X=u(E),te=l(E,"DIV",{class:!0});var qe=i(te);B=l(qe,"DIV",{class:!0,"data-svelte-h":!0}),A(B)!=="svelte-5lzv5a"&&(B.textContent=me),be=u(qe),U=l(qe,"DIV",{class:!0});var ye=i(U);d=l(ye,"H3",{class:!0,"data-svelte-h":!0}),A(d)!=="svelte-ai59x3"&&(d.textContent=w),R=u(ye),K=l(ye,"DIV",{class:!0});var Le=i(K);ge=z(Le,le),De=z(Le,"ms"),Le.forEach(r),ye.forEach(r),qe.forEach(r),E.forEach(r),Re=u(x),oe=l(x,"DIV",{class:!0});var Oe=i(oe);se=l(Oe,"DIV",{class:!0});var Ne=i(se);ve=l(Ne,"H3",{class:!0,"data-svelte-h":!0}),A(ve)!=="svelte-iip054"&&(ve.textContent=Ie),_e=u(Ne),Ce=l(Ne,"DIV",{class:!0});var we=i(Ce);ie=l(we,"TABLE",{class:!0});var Ae=i(ie);ce=l(Ae,"THEAD",{"data-svelte-h":!0}),A(ce)!=="svelte-a4oalc"&&(ce.innerHTML=He),je=u(Ae),Ee=l(Ae,"TBODY",{});var Pe=i(Ee);for(let Ue=0;Ue<G.length;Ue+=1)G[Ue].l(Pe);Pe.forEach(r),Ae.forEach(r),we.forEach(r),Ne.forEach(r),Oe.forEach(r),this.h()},h(){n(a,"class","metric-icon svelte-1npvggn"),n(p,"class","svelte-1npvggn"),n(I,"class","metric-value svelte-1npvggn"),n(c,"class","metric-content svelte-1npvggn"),n(o,"class","metric-card svelte-1npvggn"),n(m,"class","metric-icon svelte-1npvggn"),n(C,"class","svelte-1npvggn"),n(_,"class","metric-value svelte-1npvggn"),n(V,"class","metric-content svelte-1npvggn"),n(D,"class","metric-card svelte-1npvggn"),n(ne,"class","metric-icon svelte-1npvggn"),n($,"class","svelte-1npvggn"),n(ee,"class","metric-value svelte-1npvggn"),n(P,"class","metric-content svelte-1npvggn"),n(F,"class","metric-card svelte-1npvggn"),n(B,"class","metric-icon svelte-1npvggn"),n(d,"class","svelte-1npvggn"),n(K,"class","metric-value svelte-1npvggn"),n(U,"class","metric-content svelte-1npvggn"),n(te,"class","metric-card svelte-1npvggn"),n(t,"class","metrics-grid svelte-1npvggn"),n(ve,"class","svelte-1npvggn"),n(ie,"class","svelte-1npvggn"),n(Ce,"class","table-container svelte-1npvggn"),n(se,"class","table-panel svelte-1npvggn"),n(oe,"class","data-tables svelte-1npvggn")},m(x,E){fe(x,t,E),e(t,o),e(o,a),e(o,g),e(o,c),e(c,p),e(c,L),e(c,I),e(I,M),e(t,O),e(t,D),e(D,m),e(D,H),e(D,V),e(V,C),e(V,Y),e(V,_),e(_,ae),e(t,re),e(t,F),e(F,ne),e(F,Ve),e(F,P),e(P,$),e(P,Te),e(P,ee),e(ee,pe),e(t,X),e(t,te),e(te,B),e(te,be),e(te,U),e(U,d),e(U,R),e(U,K),e(K,ge),e(K,De),fe(x,Re,E),fe(x,oe,E),e(oe,se),e(se,ve),e(se,_e),e(se,Ce),e(Ce,ie),e(ie,ce),e(ie,je),e(ie,Ee);for(let T=0;T<G.length;T+=1)G[T]&&G[T].m(Ee,null)},p(x,E){if(E&1&&f!==(f=new Intl.NumberFormat().format(x[0].totalRequests)+"")&&he(M,f),E&1&&q!==(q=new Intl.NumberFormat().format(x[0].uniqueClients)+"")&&he(ae,q),E&1&&de!==(de=mt(x[0].dataServed)+"")&&he(pe,de),E&1&&le!==(le=x[0].avgResponseTime+"")&&he(ge,le),E&1){ue=Fe(x[0].topContent);let T;for(T=0;T<ue.length;T+=1){const N=at(x,ue,T);G[T]?G[T].p(N,E):(G[T]=dt(N),G[T].c(),G[T].m(Ee,null))}for(;T<G.length;T+=1)G[T].d(1);G.length=ue.length}},d(x){x&&(r(t),r(Re),r(oe)),We(G,x)}}}function dt(v){let t,o,a,b=v[20].contentId+"",g,c,p,y=v[20].requests+"",L,I,f,M=Ye(v[20].revenue)+"",O,D;return{c(){t=s("tr"),o=s("td"),a=s("code"),g=J(b),c=h(),p=s("td"),L=J(y),I=h(),f=s("td"),O=J(M),D=h(),this.h()},l(m){t=l(m,"TR",{});var k=i(t);o=l(k,"TD",{class:!0});var H=i(o);a=l(H,"CODE",{class:!0});var V=i(a);g=z(V,b),V.forEach(r),H.forEach(r),c=u(k),p=l(k,"TD",{class:!0});var C=i(p);L=z(C,y),C.forEach(r),I=u(k),f=l(k,"TD",{class:!0});var S=i(f);O=z(S,M),S.forEach(r),D=u(k),k.forEach(r),this.h()},h(){n(a,"class","svelte-1npvggn"),n(o,"class","svelte-1npvggn"),n(p,"class","svelte-1npvggn"),n(f,"class","svelte-1npvggn")},m(m,k){fe(m,t,k),e(t,o),e(o,a),e(a,g),e(t,c),e(t,p),e(p,L),e(t,I),e(t,f),e(f,O),e(t,D)},p(m,k){k&1&&b!==(b=m[20].contentId+"")&&he(g,b),k&1&&y!==(y=m[20].requests+"")&&he(L,y),k&1&&M!==(M=Ye(m[20].revenue)+"")&&he(O,M)},d(m){m&&r(t)}}}function ut(v){let t,o,a,b="üîó",g,c,p,y="Total Sessions",L,I,f=new Intl.NumberFormat().format(v[0].totalSessions)+"",M,O,D,m,k="‚è±Ô∏è",H,V,C,S="Avg Duration",Y,_,q=Math.floor(v[0].avgSessionDuration/60)+"",ae,re,F=v[0].avgSessionDuration%60+"",ne,Me,Ve,P,$,ke="üì±",Te,ee,de,pe="Device Types",X,te,B=v[0].deviceTypes.length+"",me,be,U,d,w,R="üåç",K,le,ge,De="Top Regions",Re,oe,se=v[0].topRegions.length+"",ve,Ie,_e,Ce,ie,ce,He="üåé Access by Region",je,Ee,ue,G,x='<tr><th class="svelte-1npvggn">Region</th> <th class="svelte-1npvggn">Sessions</th></tr>',E,T,N=Fe(v[0].topRegions),Z=[];for(let j=0;j<N.length;j+=1)Z[j]=ht(nt(v,N,j));return{c(){t=s("div"),o=s("div"),a=s("div"),a.textContent=b,g=h(),c=s("div"),p=s("h3"),p.textContent=y,L=h(),I=s("div"),M=J(f),O=h(),D=s("div"),m=s("div"),m.textContent=k,H=h(),V=s("div"),C=s("h3"),C.textContent=S,Y=h(),_=s("div"),ae=J(q),re=J("m "),ne=J(F),Me=J("s"),Ve=h(),P=s("div"),$=s("div"),$.textContent=ke,Te=h(),ee=s("div"),de=s("h3"),de.textContent=pe,X=h(),te=s("div"),me=J(B),be=J(" types"),U=h(),d=s("div"),w=s("div"),w.textContent=R,K=h(),le=s("div"),ge=s("h3"),ge.textContent=De,Re=h(),oe=s("div"),ve=J(se),Ie=J(" regions"),_e=h(),Ce=s("div"),ie=s("div"),ce=s("h3"),ce.textContent=He,je=h(),Ee=s("div"),ue=s("table"),G=s("thead"),G.innerHTML=x,E=h(),T=s("tbody");for(let j=0;j<Z.length;j+=1)Z[j].c();this.h()},l(j){t=l(j,"DIV",{class:!0});var Q=i(t);o=l(Q,"DIV",{class:!0});var W=i(o);a=l(W,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-1ytuz7v"&&(a.textContent=b),g=u(W),c=l(W,"DIV",{class:!0});var xe=i(c);p=l(xe,"H3",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1ja2unv"&&(p.textContent=y),L=u(xe),I=l(xe,"DIV",{class:!0});var Se=i(I);M=z(Se,f),Se.forEach(r),xe.forEach(r),W.forEach(r),O=u(Q),D=l(Q,"DIV",{class:!0});var Be=i(D);m=l(Be,"DIV",{class:!0,"data-svelte-h":!0}),A(m)!=="svelte-1q31abr"&&(m.textContent=k),H=u(Be),V=l(Be,"DIV",{class:!0});var qe=i(V);C=l(qe,"H3",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-b6c6xg"&&(C.textContent=S),Y=u(qe),_=l(qe,"DIV",{class:!0});var ye=i(_);ae=z(ye,q),re=z(ye,"m "),ne=z(ye,F),Me=z(ye,"s"),ye.forEach(r),qe.forEach(r),Be.forEach(r),Ve=u(Q),P=l(Q,"DIV",{class:!0});var Le=i(P);$=l(Le,"DIV",{class:!0,"data-svelte-h":!0}),A($)!=="svelte-1i8ix7x"&&($.textContent=ke),Te=u(Le),ee=l(Le,"DIV",{class:!0});var Oe=i(ee);de=l(Oe,"H3",{class:!0,"data-svelte-h":!0}),A(de)!=="svelte-1sk0lnz"&&(de.textContent=pe),X=u(Oe),te=l(Oe,"DIV",{class:!0});var Ne=i(te);me=z(Ne,B),be=z(Ne," types"),Ne.forEach(r),Oe.forEach(r),Le.forEach(r),U=u(Q),d=l(Q,"DIV",{class:!0});var we=i(d);w=l(we,"DIV",{class:!0,"data-svelte-h":!0}),A(w)!=="svelte-j95we"&&(w.textContent=R),K=u(we),le=l(we,"DIV",{class:!0});var Ae=i(le);ge=l(Ae,"H3",{class:!0,"data-svelte-h":!0}),A(ge)!=="svelte-cm9peo"&&(ge.textContent=De),Re=u(Ae),oe=l(Ae,"DIV",{class:!0});var Pe=i(oe);ve=z(Pe,se),Ie=z(Pe," regions"),Pe.forEach(r),Ae.forEach(r),we.forEach(r),Q.forEach(r),_e=u(j),Ce=l(j,"DIV",{class:!0});var Ue=i(Ce);ie=l(Ue,"DIV",{class:!0});var Je=i(ie);ce=l(Je,"H3",{class:!0,"data-svelte-h":!0}),A(ce)!=="svelte-l599qf"&&(ce.textContent=He),je=u(Je),Ee=l(Je,"DIV",{class:!0});var tt=i(Ee);ue=l(tt,"TABLE",{class:!0});var Xe=i(ue);G=l(Xe,"THEAD",{"data-svelte-h":!0}),A(G)!=="svelte-1lculqm"&&(G.innerHTML=x),E=u(Xe),T=l(Xe,"TBODY",{});var lt=i(T);for(let Ze=0;Ze<Z.length;Ze+=1)Z[Ze].l(lt);lt.forEach(r),Xe.forEach(r),tt.forEach(r),Je.forEach(r),Ue.forEach(r),this.h()},h(){n(a,"class","metric-icon svelte-1npvggn"),n(p,"class","svelte-1npvggn"),n(I,"class","metric-value svelte-1npvggn"),n(c,"class","metric-content svelte-1npvggn"),n(o,"class","metric-card svelte-1npvggn"),n(m,"class","metric-icon svelte-1npvggn"),n(C,"class","svelte-1npvggn"),n(_,"class","metric-value svelte-1npvggn"),n(V,"class","metric-content svelte-1npvggn"),n(D,"class","metric-card svelte-1npvggn"),n($,"class","metric-icon svelte-1npvggn"),n(de,"class","svelte-1npvggn"),n(te,"class","metric-value svelte-1npvggn"),n(ee,"class","metric-content svelte-1npvggn"),n(P,"class","metric-card svelte-1npvggn"),n(w,"class","metric-icon svelte-1npvggn"),n(ge,"class","svelte-1npvggn"),n(oe,"class","metric-value svelte-1npvggn"),n(le,"class","metric-content svelte-1npvggn"),n(d,"class","metric-card svelte-1npvggn"),n(t,"class","metrics-grid svelte-1npvggn"),n(ce,"class","svelte-1npvggn"),n(ue,"class","svelte-1npvggn"),n(Ee,"class","table-container svelte-1npvggn"),n(ie,"class","table-panel svelte-1npvggn"),n(Ce,"class","data-tables svelte-1npvggn")},m(j,Q){fe(j,t,Q),e(t,o),e(o,a),e(o,g),e(o,c),e(c,p),e(c,L),e(c,I),e(I,M),e(t,O),e(t,D),e(D,m),e(D,H),e(D,V),e(V,C),e(V,Y),e(V,_),e(_,ae),e(_,re),e(_,ne),e(_,Me),e(t,Ve),e(t,P),e(P,$),e(P,Te),e(P,ee),e(ee,de),e(ee,X),e(ee,te),e(te,me),e(te,be),e(t,U),e(t,d),e(d,w),e(d,K),e(d,le),e(le,ge),e(le,Re),e(le,oe),e(oe,ve),e(oe,Ie),fe(j,_e,Q),fe(j,Ce,Q),e(Ce,ie),e(ie,ce),e(ie,je),e(ie,Ee),e(Ee,ue),e(ue,G),e(ue,E),e(ue,T);for(let W=0;W<Z.length;W+=1)Z[W]&&Z[W].m(T,null)},p(j,Q){if(Q&1&&f!==(f=new Intl.NumberFormat().format(j[0].totalSessions)+"")&&he(M,f),Q&1&&q!==(q=Math.floor(j[0].avgSessionDuration/60)+"")&&he(ae,q),Q&1&&F!==(F=j[0].avgSessionDuration%60+"")&&he(ne,F),Q&1&&B!==(B=j[0].deviceTypes.length+"")&&he(me,B),Q&1&&se!==(se=j[0].topRegions.length+"")&&he(ve,se),Q&1){N=Fe(j[0].topRegions);let W;for(W=0;W<N.length;W+=1){const xe=nt(j,N,W);Z[W]?Z[W].p(xe,Q):(Z[W]=ht(xe),Z[W].c(),Z[W].m(T,null))}for(;W<Z.length;W+=1)Z[W].d(1);Z.length=N.length}},d(j){j&&(r(t),r(_e),r(Ce)),We(Z,j)}}}function ht(v){let t,o,a=v[17].region+"",b,g,c,p=v[17].sessions+"",y,L;return{c(){t=s("tr"),o=s("td"),b=J(a),g=h(),c=s("td"),y=J(p),L=h(),this.h()},l(I){t=l(I,"TR",{});var f=i(t);o=l(f,"TD",{class:!0});var M=i(o);b=z(M,a),M.forEach(r),g=u(f),c=l(f,"TD",{class:!0});var O=i(c);y=z(O,p),O.forEach(r),L=u(f),f.forEach(r),this.h()},h(){n(o,"class","svelte-1npvggn"),n(c,"class","svelte-1npvggn")},m(I,f){fe(I,t,f),e(t,o),e(o,b),e(t,g),e(t,c),e(c,y),e(t,L)},p(I,f){f&1&&a!==(a=I[17].region+"")&&he(b,a),f&1&&p!==(p=I[17].sessions+"")&&he(y,p)},d(I){I&&r(t)}}}function gt(v){let t,o,a,b="üí∞",g,c,p,y="Total Revenue",L,I,f=Ye(v[0].totalRevenue)+"",M,O,D,m,k="üìà",H,V,C,S="Avg/Request",Y,_,q=Ye(v[0].avgRevenuePerRequest)+"",ae,re,F,ne,Me="üëë",Ve,P,$,ke="Top Clients",Te,ee,de=v[0].topPayingClients.length+"",pe,X,te,B,me,be="üéØ",U,d,w,R="Revenue Streams",K,le,ge=v[0].revenueByContent.length+"",De,Re,oe,se,ve,Ie,_e="üíé Top Paying Clients",Ce,ie,ce,He,je='<tr><th class="svelte-1npvggn">Client ID</th> <th class="svelte-1npvggn">Revenue</th> <th class="svelte-1npvggn">Requests</th></tr>',Ee,ue,G=Fe(v[0].topPayingClients),x=[];for(let E=0;E<G.length;E+=1)x[E]=ft(st(v,G,E));return{c(){t=s("div"),o=s("div"),a=s("div"),a.textContent=b,g=h(),c=s("div"),p=s("h3"),p.textContent=y,L=h(),I=s("div"),M=J(f),O=h(),D=s("div"),m=s("div"),m.textContent=k,H=h(),V=s("div"),C=s("h3"),C.textContent=S,Y=h(),_=s("div"),ae=J(q),re=h(),F=s("div"),ne=s("div"),ne.textContent=Me,Ve=h(),P=s("div"),$=s("h3"),$.textContent=ke,Te=h(),ee=s("div"),pe=J(de),X=J(" clients"),te=h(),B=s("div"),me=s("div"),me.textContent=be,U=h(),d=s("div"),w=s("h3"),w.textContent=R,K=h(),le=s("div"),De=J(ge),Re=J(" sources"),oe=h(),se=s("div"),ve=s("div"),Ie=s("h3"),Ie.textContent=_e,Ce=h(),ie=s("div"),ce=s("table"),He=s("thead"),He.innerHTML=je,Ee=h(),ue=s("tbody");for(let E=0;E<x.length;E+=1)x[E].c();this.h()},l(E){t=l(E,"DIV",{class:!0});var T=i(t);o=l(T,"DIV",{class:!0});var N=i(o);a=l(N,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-6x7nmk"&&(a.textContent=b),g=u(N),c=l(N,"DIV",{class:!0});var Z=i(c);p=l(Z,"H3",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1elr9os"&&(p.textContent=y),L=u(Z),I=l(Z,"DIV",{class:!0});var j=i(I);M=z(j,f),j.forEach(r),Z.forEach(r),N.forEach(r),O=u(T),D=l(T,"DIV",{class:!0});var Q=i(D);m=l(Q,"DIV",{class:!0,"data-svelte-h":!0}),A(m)!=="svelte-mp5l5w"&&(m.textContent=k),H=u(Q),V=l(Q,"DIV",{class:!0});var W=i(V);C=l(W,"H3",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-159iz80"&&(C.textContent=S),Y=u(W),_=l(W,"DIV",{class:!0});var xe=i(_);ae=z(xe,q),xe.forEach(r),W.forEach(r),Q.forEach(r),re=u(T),F=l(T,"DIV",{class:!0});var Se=i(F);ne=l(Se,"DIV",{class:!0,"data-svelte-h":!0}),A(ne)!=="svelte-2ho2a5"&&(ne.textContent=Me),Ve=u(Se),P=l(Se,"DIV",{class:!0});var Be=i(P);$=l(Be,"H3",{class:!0,"data-svelte-h":!0}),A($)!=="svelte-9o0j2v"&&($.textContent=ke),Te=u(Be),ee=l(Be,"DIV",{class:!0});var qe=i(ee);pe=z(qe,de),X=z(qe," clients"),qe.forEach(r),Be.forEach(r),Se.forEach(r),te=u(T),B=l(T,"DIV",{class:!0});var ye=i(B);me=l(ye,"DIV",{class:!0,"data-svelte-h":!0}),A(me)!=="svelte-1mvpq9k"&&(me.textContent=be),U=u(ye),d=l(ye,"DIV",{class:!0});var Le=i(d);w=l(Le,"H3",{class:!0,"data-svelte-h":!0}),A(w)!=="svelte-1rtivqp"&&(w.textContent=R),K=u(Le),le=l(Le,"DIV",{class:!0});var Oe=i(le);De=z(Oe,ge),Re=z(Oe," sources"),Oe.forEach(r),Le.forEach(r),ye.forEach(r),T.forEach(r),oe=u(E),se=l(E,"DIV",{class:!0});var Ne=i(se);ve=l(Ne,"DIV",{class:!0});var we=i(ve);Ie=l(we,"H3",{class:!0,"data-svelte-h":!0}),A(Ie)!=="svelte-mt4p2s"&&(Ie.textContent=_e),Ce=u(we),ie=l(we,"DIV",{class:!0});var Ae=i(ie);ce=l(Ae,"TABLE",{class:!0});var Pe=i(ce);He=l(Pe,"THEAD",{"data-svelte-h":!0}),A(He)!=="svelte-1snc510"&&(He.innerHTML=je),Ee=u(Pe),ue=l(Pe,"TBODY",{});var Ue=i(ue);for(let Je=0;Je<x.length;Je+=1)x[Je].l(Ue);Ue.forEach(r),Pe.forEach(r),Ae.forEach(r),we.forEach(r),Ne.forEach(r),this.h()},h(){n(a,"class","metric-icon svelte-1npvggn"),n(p,"class","svelte-1npvggn"),n(I,"class","metric-value svelte-1npvggn"),n(c,"class","metric-content svelte-1npvggn"),n(o,"class","metric-card svelte-1npvggn"),n(m,"class","metric-icon svelte-1npvggn"),n(C,"class","svelte-1npvggn"),n(_,"class","metric-value svelte-1npvggn"),n(V,"class","metric-content svelte-1npvggn"),n(D,"class","metric-card svelte-1npvggn"),n(ne,"class","metric-icon svelte-1npvggn"),n($,"class","svelte-1npvggn"),n(ee,"class","metric-value svelte-1npvggn"),n(P,"class","metric-content svelte-1npvggn"),n(F,"class","metric-card svelte-1npvggn"),n(me,"class","metric-icon svelte-1npvggn"),n(w,"class","svelte-1npvggn"),n(le,"class","metric-value svelte-1npvggn"),n(d,"class","metric-content svelte-1npvggn"),n(B,"class","metric-card svelte-1npvggn"),n(t,"class","metrics-grid svelte-1npvggn"),n(Ie,"class","svelte-1npvggn"),n(ce,"class","svelte-1npvggn"),n(ie,"class","table-container svelte-1npvggn"),n(ve,"class","table-panel svelte-1npvggn"),n(se,"class","data-tables svelte-1npvggn")},m(E,T){fe(E,t,T),e(t,o),e(o,a),e(o,g),e(o,c),e(c,p),e(c,L),e(c,I),e(I,M),e(t,O),e(t,D),e(D,m),e(D,H),e(D,V),e(V,C),e(V,Y),e(V,_),e(_,ae),e(t,re),e(t,F),e(F,ne),e(F,Ve),e(F,P),e(P,$),e(P,Te),e(P,ee),e(ee,pe),e(ee,X),e(t,te),e(t,B),e(B,me),e(B,U),e(B,d),e(d,w),e(d,K),e(d,le),e(le,De),e(le,Re),fe(E,oe,T),fe(E,se,T),e(se,ve),e(ve,Ie),e(ve,Ce),e(ve,ie),e(ie,ce),e(ce,He),e(ce,Ee),e(ce,ue);for(let N=0;N<x.length;N+=1)x[N]&&x[N].m(ue,null)},p(E,T){if(T&1&&f!==(f=Ye(E[0].totalRevenue)+"")&&he(M,f),T&1&&q!==(q=Ye(E[0].avgRevenuePerRequest)+"")&&he(ae,q),T&1&&de!==(de=E[0].topPayingClients.length+"")&&he(pe,de),T&1&&ge!==(ge=E[0].revenueByContent.length+"")&&he(De,ge),T&1){G=Fe(E[0].topPayingClients);let N;for(N=0;N<G.length;N+=1){const Z=st(E,G,N);x[N]?x[N].p(Z,T):(x[N]=ft(Z),x[N].c(),x[N].m(ue,null))}for(;N<x.length;N+=1)x[N].d(1);x.length=G.length}},d(E){E&&(r(t),r(oe),r(se)),We(x,E)}}}function ft(v){let t,o,a,b=v[14].clientId+"",g,c,p,y=Ye(v[14].revenue)+"",L,I,f,M=v[14].requests+"",O,D;return{c(){t=s("tr"),o=s("td"),a=s("code"),g=J(b),c=h(),p=s("td"),L=J(y),I=h(),f=s("td"),O=J(M),D=h(),this.h()},l(m){t=l(m,"TR",{});var k=i(t);o=l(k,"TD",{class:!0});var H=i(o);a=l(H,"CODE",{class:!0});var V=i(a);g=z(V,b),V.forEach(r),H.forEach(r),c=u(k),p=l(k,"TD",{class:!0});var C=i(p);L=z(C,y),C.forEach(r),I=u(k),f=l(k,"TD",{class:!0});var S=i(f);O=z(S,M),S.forEach(r),D=u(k),k.forEach(r),this.h()},h(){n(a,"class","svelte-1npvggn"),n(o,"class","svelte-1npvggn"),n(p,"class","svelte-1npvggn"),n(f,"class","svelte-1npvggn")},m(m,k){fe(m,t,k),e(t,o),e(o,a),e(a,g),e(t,c),e(t,p),e(p,L),e(t,I),e(t,f),e(f,O),e(t,D)},p(m,k){k&1&&b!==(b=m[14].clientId+"")&&he(g,b),k&1&&y!==(y=Ye(m[14].revenue)+"")&&he(L,y),k&1&&M!==(M=m[14].requests+"")&&he(O,M)},d(m){m&&r(t)}}}function xt(v){let t,o,a='<h1 class="svelte-1npvggn">üìä Producer Analytics Dashboard</h1> <p>Comprehensive analytics matching CLI functionality</p>',b,g,c,p,y,L="Report Type",I,f,M,O,D,m="Time Range",k,H,V,C,S,Y="Content ID (Optional)",_,q,ae,re,F,ne=v[1]?"Loading...":"Refresh",Me,Ve,P,$,ke,Te,ee,de,pe=Fe(v[6]),X=[];for(let d=0;d<pe.length;d+=1)X[d]=vt(rt(v,pe,d));let te=Fe(v[7]),B=[];for(let d=0;d<te.length;d+=1)B[d]=it(ot(v,te,d));function me(d,w){if(d[1])return Rt;if(d[0])return Tt}let be=me(v),U=be&&be(v);return{c(){t=s("div"),o=s("div"),o.innerHTML=a,b=h(),g=s("div"),c=s("div"),p=s("div"),y=s("label"),y.textContent=L,I=h(),f=s("select");for(let d=0;d<X.length;d+=1)X[d].c();M=h(),O=s("div"),D=s("label"),D.textContent=m,k=h(),H=s("select");for(let d=0;d<B.length;d+=1)B[d].c();V=h(),C=s("div"),S=s("label"),S.textContent=Y,_=h(),q=s("input"),ae=h(),re=s("div"),F=s("button"),Me=J(ne),Ve=h(),P=s("button"),$=J("Export Report"),Te=h(),U&&U.c(),this.h()},l(d){t=l(d,"DIV",{class:!0});var w=i(t);o=l(w,"DIV",{class:!0,"data-svelte-h":!0}),A(o)!=="svelte-15h30m3"&&(o.innerHTML=a),b=u(w),g=l(w,"DIV",{class:!0});var R=i(g);c=l(R,"DIV",{class:!0});var K=i(c);p=l(K,"DIV",{class:!0});var le=i(p);y=l(le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(y)!=="svelte-5w2yfm"&&(y.textContent=L),I=u(le),f=l(le,"SELECT",{id:!0,class:!0});var ge=i(f);for(let _e=0;_e<X.length;_e+=1)X[_e].l(ge);ge.forEach(r),le.forEach(r),M=u(K),O=l(K,"DIV",{class:!0});var De=i(O);D=l(De,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(D)!=="svelte-f42vf8"&&(D.textContent=m),k=u(De),H=l(De,"SELECT",{id:!0,class:!0});var Re=i(H);for(let _e=0;_e<B.length;_e+=1)B[_e].l(Re);Re.forEach(r),De.forEach(r),V=u(K),C=l(K,"DIV",{class:!0});var oe=i(C);S=l(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(S)!=="svelte-770kbb"&&(S.textContent=Y),_=u(oe),q=l(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),oe.forEach(r),ae=u(K),re=l(K,"DIV",{class:!0});var se=i(re);F=l(se,"BUTTON",{class:!0});var ve=i(F);Me=z(ve,ne),ve.forEach(r),Ve=u(se),P=l(se,"BUTTON",{class:!0});var Ie=i(P);$=z(Ie,"Export Report"),Ie.forEach(r),se.forEach(r),K.forEach(r),R.forEach(r),Te=u(w),U&&U.l(w),w.forEach(r),this.h()},h(){n(o,"class","header svelte-1npvggn"),n(y,"for","reportType"),n(y,"class","svelte-1npvggn"),n(f,"id","reportType"),n(f,"class","control-input svelte-1npvggn"),v[2]===void 0&&et(()=>v[10].call(f)),n(p,"class","control-group svelte-1npvggn"),n(D,"for","timeRange"),n(D,"class","svelte-1npvggn"),n(H,"id","timeRange"),n(H,"class","control-input svelte-1npvggn"),v[3]===void 0&&et(()=>v[11].call(H)),n(O,"class","control-group svelte-1npvggn"),n(S,"for","contentId"),n(S,"class","svelte-1npvggn"),n(q,"id","contentId"),n(q,"type","text"),n(q,"placeholder","content_abc123"),n(q,"class","control-input svelte-1npvggn"),n(C,"class","control-group svelte-1npvggn"),n(F,"class","btn btn-primary svelte-1npvggn"),F.disabled=v[1],n(P,"class","btn btn-secondary svelte-1npvggn"),P.disabled=ke=!v[0],n(re,"class","control-actions svelte-1npvggn"),n(c,"class","controls-grid svelte-1npvggn"),n(g,"class","controls-panel svelte-1npvggn"),n(t,"class","analytics-dashboard svelte-1npvggn")},m(d,w){fe(d,t,w),e(t,o),e(t,b),e(t,g),e(g,c),e(c,p),e(p,y),e(p,I),e(p,f);for(let R=0;R<X.length;R+=1)X[R]&&X[R].m(f,null);Ge(f,v[2],!0),e(c,M),e(c,O),e(O,D),e(O,k),e(O,H);for(let R=0;R<B.length;R+=1)B[R]&&B[R].m(H,null);Ge(H,v[3],!0),e(c,V),e(c,C),e(C,S),e(C,_),e(C,q),Ke(q,v[4]),e(c,ae),e(c,re),e(re,F),e(F,Me),e(re,Ve),e(re,P),e(P,$),e(t,Te),U&&U.m(t,null),ee||(de=[ze(f,"change",v[10]),ze(f,"change",v[8]),ze(H,"change",v[11]),ze(H,"change",v[8]),ze(q,"input",v[12]),ze(F,"click",v[8]),ze(P,"click",v[9])],ee=!0)},p(d,[w]){if(w&64){pe=Fe(d[6]);let R;for(R=0;R<pe.length;R+=1){const K=rt(d,pe,R);X[R]?X[R].p(K,w):(X[R]=vt(K),X[R].c(),X[R].m(f,null))}for(;R<X.length;R+=1)X[R].d(1);X.length=pe.length}if(w&68&&Ge(f,d[2]),w&128){te=Fe(d[7]);let R;for(R=0;R<te.length;R+=1){const K=ot(d,te,R);B[R]?B[R].p(K,w):(B[R]=it(K),B[R].c(),B[R].m(H,null))}for(;R<B.length;R+=1)B[R].d(1);B.length=te.length}w&136&&Ge(H,d[3]),w&16&&q.value!==d[4]&&Ke(q,d[4]),w&2&&ne!==(ne=d[1]?"Loading...":"Refresh")&&he(Me,ne),w&2&&(F.disabled=d[1]),w&1&&ke!==(ke=!d[0])&&(P.disabled=ke),be===(be=me(d))&&U?U.p(d,w):(U&&U.d(1),U=be&&be(d),U&&(U.c(),U.m(t,null)))},i:Qe,o:Qe,d(d){d&&r(t),We(X,d),We(B,d),U&&U.d(),ee=!1,Ct(de)}}}function pt(v,t){const a={reportType:v,timeRange:t,generatedAt:new Date().toISOString(),producer:JSON.parse(localStorage.getItem("producer-identity")||"{}")};switch(v){case"usage":return{...a,totalRequests:Math.floor(Math.random()*1e4),uniqueClients:Math.floor(Math.random()*1e3),dataServed:Math.floor(Math.random()*1e9),avgResponseTime:Math.floor(Math.random()*500),topContent:[{contentId:"content_abc123",requests:450,revenue:2250},{contentId:"content_def456",requests:320,revenue:1600},{contentId:"content_ghi789",requests:180,revenue:900}],hourlyBreakdown:Array.from({length:24},(b,g)=>({hour:g,requests:Math.floor(Math.random()*100),revenue:Math.floor(Math.random()*500)}))};case"access":return{...a,totalSessions:Math.floor(Math.random()*1e3),avgSessionDuration:Math.floor(Math.random()*300),bounceRate:Math.floor(Math.random()*100),topRegions:[{region:"North America",sessions:450},{region:"Europe",sessions:320},{region:"Asia Pacific",sessions:180}],deviceTypes:[{type:"Desktop",sessions:600},{type:"Mobile",sessions:280},{type:"API",sessions:120}]};case"revenue":return{...a,totalRevenue:Math.floor(Math.random()*5e4),avgRevenuePerRequest:Math.floor(Math.random()*100),topPayingClients:[{clientId:"client_abc",revenue:15e3,requests:300},{clientId:"client_def",revenue:12e3,requests:240},{clientId:"client_ghi",revenue:8e3,requests:160}],revenueByContent:[{contentId:"content_abc123",revenue:12500},{contentId:"content_def456",revenue:8300},{contentId:"content_ghi789",revenue:5200}]};default:return a}}function _t(v,t){const o=URL.createObjectURL(v),a=document.createElement("a");a.href=o,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}function yt(v){let t="";return v.topContent&&(t+=`Content ID,Requests,Revenue
`,v.topContent.forEach(o=>{t+=`${o.contentId},${o.requests},${o.revenue}
`})),t}function mt(v){if(v===0)return"0 B";const t=1024,o=["B","KB","MB","GB"],a=Math.floor(Math.log(v)/Math.log(t));return parseFloat((v/Math.pow(t,a)).toFixed(2))+" "+o[a]}function Ye(v){return new Intl.NumberFormat().format(v)+" sats"}function Mt(v,t,o){let a=null,b=!0,g="usage",c="24h",p="",y="json",L=[{value:"usage",label:"Usage Analytics"},{value:"access",label:"Access Patterns"},{value:"revenue",label:"Revenue Analytics"}],I=[{value:"1h",label:"Last Hour"},{value:"24h",label:"Last 24 Hours"},{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"}];Dt(async()=>{await f()});async function f(){try{o(1,b=!0);const H=new URLSearchParams({reportType:g,timeRange:c,format:"json"});p&&H.append("contentId",p),o(0,a=pt(g,c));try{const V=await Vt.request(`/v1/analytics/producer?${H}`);V&&Object.keys(V).length>0&&o(0,a=V)}catch(V){console.warn("Using mock analytics data:",V)}}catch(H){console.error("Failed to load analytics:",H),o(0,a=pt(g,c))}finally{o(1,b=!1)}}async function M(){if(!a)return;const H=`producer-analytics-${g}-${c}.${y}`;if(y==="json"){const V=new Blob([JSON.stringify(a,null,2)],{type:"application/json"});_t(V,H)}else if(y==="csv"){const V=yt(a),C=new Blob([V],{type:"text/csv"});_t(C,H)}}function O(){g=$e(this),o(2,g),o(6,L)}function D(){c=$e(this),o(3,c),o(7,I)}function m(){p=this.value,o(4,p)}function k(){y=$e(this),o(5,y)}return[a,b,g,c,p,y,L,I,f,M,O,D,m,k]}class St extends bt{constructor(t){super(),It(this,t,Mt,xt,Et,{})}}export{St as component};
